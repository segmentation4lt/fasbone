//-----------------------------------------------------------------------------------------------------------------------------------------
// COMMON モジュール(SEG4)
//-----------------------------------------------------------------------------------------------------------------------------------------
use crate::base::seg4_common;

//-----------------------------------------------------------------------------------------------------------------------------------------
// Postgresクレート
//-----------------------------------------------------------------------------------------------------------------------------------------
pub extern crate postgres;
pub use postgres::{Client,  NoTls,types::Type};

//-----------------------------------------------------------------------------------------------------------------------------------------
// データベースに接続
//-----------------------------------------------------------------------------------------------------------------------------------------
pub fn db_connect()->Client{
    let db_url = format!(
        "host={} port={} user={} password={} dbname={} ",
        seg4_common::define::PG_CONNECT_HOST, seg4_common::define::PG_CONNECT_PORT,
        seg4_common::define::PG_CONNECT_USER, seg4_common::define::PG_CONNECT_PASS, seg4_common::define::PG_CONNECT_DATABASE
    );
    let pg_client = Client::connect(&db_url, NoTls).expect("failed to connect to postgres");
    pg_client
}




