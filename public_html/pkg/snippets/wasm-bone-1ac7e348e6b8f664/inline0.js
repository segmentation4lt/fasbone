export async function FasBoneReady(){var a=[],e=(a.uri=decodeURI(window.location.href).split(window.location.hostname)[1].split("#")[0],a.query_string=location.search.substring(1),navigator.userAgent.toLowerCase()),e=(a.isMobile=!(-1!==e.indexOf("windows nt")||-1!==e.indexOf("mac os x")),new Date),e=(a.Year=e.getFullYear(),a.Month=e.getMonth()+1,a.Week=e.getDay(),a.Day=e.getDate(),a.hour=e.getHours(),a.min=e.getMinutes(),a.sec=e.getSeconds(),a.YYYYMMDD=a.Year+"年"+a.Month+"月"+a.Day+"日",a.protocol=void 0,a.token=void 0,a.apihost=void 0,a.event_string=void 0,window.clientinfo=a,await fetch("/json/static/route.json")),e=e.ok?await e.json():JSON.parse('{"result":"'+e.status+" "+e.message+'."}');if(void 0===e[a.uri]){let t=404;Object.keys(e).forEach(function(e){1==a.uri.startsWith(e)&&"/"!=e&&(a.event_string=a.uri.replace(e,""),t=e)}),a.uri=t}var t=await fetch("/template/action/"+e[a.uri].action_name+".template"),t=t.ok?await t.text():"読込エラー",i=void 0===a.event_string?e[a.uri].api_urlandpath:e[a.uri].api_urlandpath+a.event_string,n=(i.indexOf("json/api")<0&&(wasm.gethost(),void 0===a.token)&&(i=i.replace("api","static")),await fetch(i)),i=(a.page_api=n.ok?await n.json():JSON.parse('{"result":"'+n.status+" "+n.message+'."}'),"404 undefined."==a.page_api.result&&(n=await fetch(i+"index.json"),a.page_api=n.ok?await n.json():JSON.parse('{"result":"'+n.status+" "+n.message+'."}')),_.template(t)),n=(document.getElementsByTagName("body")[0].innerHTML=i(a.page_api),document.createElement("script")),t=(document.head.appendChild(n),n.type="text/javascript",n.id="action_execute",n.src="/js/action/"+e[a.uri].action_name+".js",n.onload=function(e){Execute()},document.createElement("script"));document.head.appendChild(t),t.type="text/javascript",t.id="com_environment",t.src="/js/common/com_envrironment.js"}
