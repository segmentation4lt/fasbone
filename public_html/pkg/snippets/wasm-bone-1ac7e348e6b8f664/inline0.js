export async function FasBoneReady(){"use strict";var a=[],e=(a.uri=decodeURI(window.location.href).split(window.location.hostname)[1].split("#")[0],a.query_string=location.search.substring(1),navigator.userAgent.toLowerCase()),e=(a.isMobile=!(-1!==e.indexOf("windows nt")||-1!==e.indexOf("mac os x")),new Date),e=(a.Year=e.getFullYear(),a.Month=e.getMonth()+1,a.Week=e.getDay(),a.Day=e.getDate(),a.hour=e.getHours(),a.min=e.getMinutes(),a.sec=e.getSeconds(),a.YYYYMMDD=a.Year+"年"+a.Month+"月"+a.Day+"日",a.protocol=void 0,a.token=void 0,a.apihost=void 0,a.event_string=void 0,window.clientinfo=a,await fetch("/json/static/route.json")),i=e.ok?await e.json():JSON.parse('{"result":"'+e.status+" "+e.message+'."}');if(void 0===i[a.uri]){let t=404;Object.keys(i).forEach(function(e){1==a.uri.startsWith(e)&&"/"!=e&&(a.event_string=a.uri.replace(e,""),t=e)}),a.uri=t}i[a.uri].render;var t,o=void 0!==i[a.uri].render&&"react"==i[a.uri].render||"function"!=typeof _?"react":"bone",e=void 0===a.event_string?i[a.uri].api_urlandpath:i[a.uri].api_urlandpath+a.event_string,n=(a.protocol=window.location.href.split(":")[0]+"://",await fetch("/js/apihost")),n=(a.apihost=(n.ok?await n.text():void 0).replace(/\r?\n/g,""),a.protocol+a.apihost+"/json/api/"),r=await fetch(n,{signal:AbortSignal.timeout(500)}),s=r.ok?await r.text():void 0,s=(a.token=void 0===s?void 0:JSON.parse(s).token,a.is_private=void 0===s?void 0:JSON.parse(s).is_private,a.json_path=void 0===s?"/json/static/":n,await fetch(void 0===a.token?e.replace("/api/","/static/"):e)),e=(a.page_api=s.ok?await s.json():JSON.parse('{"result":"'+s.status+" "+s.message+'."}'),"404 undefined."==a.page_api.result&&-1==e.indexOf("/api/")&&(n=await fetch(e+"index.json"),a.page_api=n.ok?await n.json():JSON.parse('{"result":"'+n.status+" "+n.message+'."}')),void 0!==a.page_api.api_data&&""!==a.page_api.api_data?(s=a.page_api.api_data,a.page_api.api_data=JSON.stringify((e=>{var t,a,i=e;for(t in i)1<i[t].length&&(a=i[t],i[t]=(e=>{try{return JSON.parse(e),!0}catch(e){return!1}})(a)?JSON.parse(a):a);return i})(s))):a.page_api.api_data="{}",document.createElement("script")),n=(e.type="text/javascript",e.id="action_execute",e.src="/js/action/"+i[a.uri].action_name+".js?"+a.Day+a.hour,e.defer=!0,document.head.appendChild(e),document.createElement("script"));if(n.type="text/javascript",n.id="com_environment",n.src="/js/common/com_envrironment.js?"+a.Day+a.hour,n.defer=!0,document.head.appendChild(n),"bone"==o&&"function"==typeof _&&(e=(s=await fetch("/template/action/"+i[a.uri].action_name+".template")).ok?await s.text():"読込エラー",document.getElementsByTagName("body")[0].innerHTML=_.template(e)(a.page_api)),t=()=>{var e;"react"==o?((e=document.createElement("script")).type="text/javascript",e.src="/js/action/"+i[a.uri].action_name+".js?"+a.Day+a.hour,e.defer=!1,document.body.appendChild(e)):"function"==typeof Execute?Execute():setTimeout(()=>{"function"==typeof Execute?Execute():setTimeout(()=>{Execute()},1500)},20)},"react"==o?"complete"===document.readyState?"object"==typeof a?setTimeout(()=>{t()},1):setTimeout(()=>{t()},1e3):document.addEventListener("DOMContentLoaded",function(e){var t=document.createElement("script");t.type="text/javascript",t.id="action_execute",t.src="/js/action/"+i[a.uri].action_name+".js?"+a.Day+a.hour,t.defer=!1,document.body.appendChild(t)}):"complete"===document.readyState?"function"==typeof Execute?Execute():setTimeout(()=>{t()},20):document.addEventListener("DOMContentLoaded",t),r.ok){for(var c=document.getElementsByTagName("input"),d=0;d<c.length;d++)"submit"==c[d].getAttribute("type")&&(c[d].disabled=!1);for(d=0;d<document.getElementsByName("_token").length;d++)document.getElementsByName("_token")[d].value=a.token}}